# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2009-2023, The Zope developer community
# This file is distributed under the same license as the Zope package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Zope 5.8\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-03-21 02:36+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../zopebook/VirtualHosting.rst:2
msgid "Virtual Hosting Services"
msgstr ""

#: ../../zopebook/includes/zope2_notice.rst:3
msgid "This document was written for Zope 2."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:6
msgid "Zope comes with one object that help you do virtual hosting: *Virtual Host Monster*. Virtual hosting is a way to serve many websites with one Zope server."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:11
msgid "Virtual Host Monster"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:13
msgid "Zope objects need to generate their own URLs from time to time. For instance, when a Zope object has its \"absolute_url\" method called, it needs to return a URL which is appropriate for itself.  This URL typically contains a hostname, a port, and a path.  In a \"default\" Zope installation, this hostname, port, and path is typically what you want.  But when it comes time to serve multiple websites out of a single Zope instance, each with their own \"top-level\" domain name, or when it comes time to integrate a Zope Folder within an existing website using Apache or another webserver, the URLs that Zope objects generate need to change to suit your configuration."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:25
msgid "A Virtual Host Monster's only job is to change the URLs which your Zope objects generate.  This allows you to customize the URLs that are displayed within your Zope application, allowing an object to have a different URL when accessed in a different way.  This is most typically useful, for example, when you wish to \"publish\" the contents of a single Zope Folder (e.g. '/FooFolder') as a URL that does not actually contain this Folder's name (e.g as the hostname 'www.foofolder.com')."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:34
msgid "The Virtual Host Monster performs this job by intercepting and deciphering information passed to Zope within special path elements encoded in the URLs of requests which come in to Zope. If these special path elements are absent in the URLs of requests to the Zope server, the Virtual Host Monster does nothing.  If they are present, however, the Virtual Host Monster deciphers the information passed in via these path elements and causes your Zope objects to generate a URL that is different from their \"default\" URL."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:44
msgid "The Zope values which are effected by the presence of a Virtual Host Monster include REQUEST variables starting with URL or BASE (such as URL1, BASE2, URLPATH0), and the absolute_url() methods of objects."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:49
msgid "Virtual Host Monster configuration can be complicated, because it requires that you *rewrite* URLs \"on the way in\" to Zope.  In order for the special path elements to be introduced into the URL of the request sent to Zope, a front-end URL \"rewriting\" tool needs to be employed.  Virtual Host Monster comes with a simple rewriting tool in the form of its *Mappings* view, or alternately you can use Apache or another webserver to rewrite URLs of requests destined to Zope for you."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:59
msgid "Adding a Virtual Host Monster to your Zope"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:61
msgid "VirtualHostMonster is one of the add menu items supplied by the stock Zope Product, 'SiteAccess'.  You can add one to any folder by selecting its entry from the add menu and supplying an ID for it (the ID you choose doesn't matter, except that it must not duplicate the ID of another object in that folder)."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:68
msgid "Where to Put a Virtual Host Monster And What To Name It"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:70
msgid "A single Virtual Host Monster in your Zope root can handle all of your virtual hosting needs. It doesn't matter what 'id' you give it, as long as nothing else in your site has the same 'id'."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:76
msgid "Configuring the VirtualHostMonster"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:78
msgid "The default mode for configuring the VirtualHostMonster is not to do any configuration at all!  Rather, the external webserver modifies the request URL to signal what the *real* public URL for the request is (see \"Apache Rewrite Rules\" below)."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:83
msgid "If you *do* choose to change the settings of your VHM, the easiest method to do so is to use the VHM's ZMI interface (as explained in the \"Virtual Host Monster *Mappings* Tab\" and \"Inside-Out Virtual Hosting\" sections below."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:88
msgid "It is possible to modify the VHM settings from the command line via Zope debugger;  no documentation for the low-level API exists, however, except \"the source\", 'Products.SiteAccess.VirtualHostMonster.py, which makes it an inadvisable choice for anyone but an experienced Zope developer."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:96
msgid "Special VHM Path Elements 'VirtualHostBase' and 'VirtualHostRoot'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:98
msgid "A Virtual Host Monster doesn't do anything unless it sees one of the following special path elements in a URL:"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:104
#: ../../zopebook/VirtualHosting.rst:112
msgid "'VirtualHostBase'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:104
#: ../../zopebook/VirtualHosting.rst:109
msgid "if a VirtualHostMonster \"sees\" this name in the incoming URL, it causes"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:103
msgid "Zope objects to generate URLs with a potentially different protocol, a potentially different hostname, and a potentially different port number."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:109
#: ../../zopebook/VirtualHosting.rst:163
msgid "'VirtualHostRoot'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:108
msgid "Zope objects to generate URLs which have a potentially different \"path root\""
msgstr ""

#: ../../zopebook/VirtualHosting.rst:114
msgid "The 'VirtualHostBase' declaration is typically found at the beginning of an incoming URL.  A Virtual Host Monster will intercept two path elements following this name and will use them to compose a new protocol, hostname, and port number."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:119
msgid "The two path elements which must follow a 'VirtualHostBase' declaration are 'protocol' and 'hostname:portnumber'.  They must be separated by a single slash.  The colon and portnumber parts of the second element are optional, and if they don't exist, the Virtual Host Monster will not change the port number of Zope-generated URLs."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:126
#: ../../zopebook/VirtualHosting.rst:177
msgid "Examples:"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:128
#: ../../zopebook/VirtualHosting.rst:136
#: ../../zopebook/VirtualHosting.rst:144
#: ../../zopebook/VirtualHosting.rst:179
#: ../../zopebook/VirtualHosting.rst:189
msgid "If a VHM is installed in the root folder, and a request comes in to your Zope with the URL:"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:131
msgid "'http://zopeserver:8080/VirtualHostBase/http/www.buystuff.com'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:133
msgid "URLs generated by Zope objects will start with 'http://buystuff.com:8080'."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:139
msgid "'http://zopeserver:8080/VirtualHostBase/http/www.buystuff.com:80'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:141
msgid "URLs generated by Zope objects will start with 'http://buystuff.com' (port 80 is the default port number so it is left out)."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:147
msgid "'http://zopeserver:8080/VirtualHostBase/https/www.buystuff.com:443'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:149
msgid "URLs generated by Zope objects will start with 'https://buystuff.com/'. (port 443 is the default https port number, so it is left off."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:152
msgid "One thing to note when reading the examples above is that if your Zope is running on a port number like 8080, and you want generated URLs to not include this port number and instead be served on the standard HTTP port (80), you must specifically include the default port 80 within the VirtualHostBase declaration, e.g. '/VirtualHostBase/http/www.buystuff.com:80'.  If you don't specify the ':80', your Zope's HTTP port number will be used (which is likely not what you want)."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:165
msgid "The 'VirtualHostRoot' declaration is typically found near the end of an incoming URL.  A Virtual Host Monster will gather up all path elements which *precede* and *follow* the 'VirtualHostRoot' name, traverse the Zope object hierarchy with these elements, and publish the object it finds with the path rewritten to the path element(s) which *follow* the 'VirtualHostRoot' name."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:173
msgid "This is easier to understand by example.  For a URL '/a/b/c/VirtualHostRoot/d', the Virtual Host Monster will traverse \"a/b/c/d\" and then generate a URL with path /d."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:182
msgid "'http://zopeserver:8080/Folder/VirtualHostRoot/"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:184
msgid "The object 'Folder' will be traversed to and published, URLs generated by Zope will start with 'http://zopeserver:8080/', and when they are visited, they will be considered relative to 'Folder'."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:192
msgid "'http://zopeserver:8080/HomeFolder/VirtualHostRoot/Chris"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:194
msgid "The object '/Folder/Chris' will be traversed to and published, URLs generated by Zope will start with 'http://zopeserver:8080/Chris', and when they are visited, they will be considered relative to '/HomeFolder/Chris'."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:200
msgid "Using 'VirtualHostRoot' and 'VirtualHostBase' Together"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:202
msgid "The most common sort of virtual hosting setup is one in which you create a Folder in your Zope root for each domain that you want to serve. For instance the site http://www.buystuff.com is served from a Folder in the Zope root named /buystuff while the site http://www.mycause.org is served from a Folder in the Zope root named /mycause.  In order to do this, you need to generate URLs that have both 'VirtualHostBase' and 'VirtualHostRoot' in them."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:211
msgid "To access /mycause as http://www.mycause.org/, you would cause Zope to be visited via the following URL::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:216
msgid "In the same Zope instance, to access /buystuff as http://www.buystuff.com/, you would cause Zope to be visited via the following URL::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:223
msgid "Testing a Virtual Host Monster"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:225
msgid "Set up a Zope on your local machine that listens on HTTP port 8080 for incoming requests."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:228
msgid "Visit the root folder, and select *Virtual Host Monster* from the Add list.  Fill in the 'id' on the add form as 'VHM' and click 'Add.'"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:232
msgid "Create a Folder in your Zope root named 'vhm_test'.  Within the newly-created 'vhm_test' folder, create a DTML Method named 'index_html' and enter the following into its body::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:255
msgid "View the DTML Method by clicking on its View tab, and you will see something like the following::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:262
msgid "Now visit the URL 'http://localhost:8080/vhm_test'.  You will be presented with something that looks almost exactly the same."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:265
msgid "Now visit the URL 'http://localhost:8080/VirtualHostBase/http/zope.com:80/vhm_test'. You will be presented with something that looks much like this::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:273
msgid "Note that the URLs that Zope is generating have changed. Instead of using 'localhost:8080' for the hostname and path, we've instructed Zope, through the use of a VirtualHostBase directive to use 'zope.com' as the hostname.  No port is shown because we've told Zope that we want to generate URLs with a port number of 80, which is the default http port."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:280
msgid "Now visit the URL 'http://localhost:8080/VirtualHostBase/http/zope.com:80/vhm_test/VirtualHostRoot/'. You will be presented with something that looks much like this::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:288
msgid "Note that we're now publishing the 'vhm_test' folder as if it were the root folder of a domain named 'zope.com'.  We did this by appending a VirtualHostRoot directive to the incoming URL, which essentially says \"traverse to the vhm_root folder as if it were the root of the site.\""
msgstr ""

#: ../../zopebook/VirtualHosting.rst:295
msgid "Arranging for Incoming URLs to be Rewritten"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:297
msgid "At this point, you're probably wondering just how in the world any of this helps you.  You're certainly not going to ask people to use their browser to visit a URL like 'http://yourserver.com//VirtualHostBase/http/zope.com/vhm_test/VirtualHostRoot/' just so your Zope-generated URLs will be \"right\".  That would defeat the purpose of virtual hosting entirely.  The answer is: don't ask humans to do it, ask your computer to do it.  There are two common (but mutually exclusive) ways to accomplish this: via the VirtualHostMonster *Mappings* tab and via Apache \"rewrite rules\" (or your webserver's facility to do the same thing if you don't use Apache).  Be warned: use either one of these facilities or the other but not both or very strange things may start to happen.  We give examples of using both facilities below."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:313
msgid "Virtual Host Monster *Mappings* Tab"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:315
msgid "Use the Virtual Host Monster's *Mappings* tab to cause your URLs to be rewritten if:"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:318
msgid "You run a \"bare\" Zope without a front-end webserver like Apache."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:321
msgid "You have one or more folders in your Zope that you'd like to publish as \"http://some.hostname.com/\" instead of \"http://hostname.com/a/folder\"."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:325
msgid "The lines entered into the *Mappings* tab are in the form::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:329
msgid "You can also match multiple subdomains by putting \"\\*.\" in front of the host name in the mapping rule.  For example::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:334
msgid "This example  will match \"my.example.com\", \"zoom.example.com\", etc. If an exact match exists, it is used instead of a wildcard match."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:338
msgid "The best way to explain how to use the *Mappings* tab is by more specific example.  Assuming you've added a Virtual Host Monster object in your root folder on a Zope running on 'localhost' on port 8080, create an alias in your local system's 'hosts' file (in /etc/hosts on UNIX and in c:\\WINNT\\system32\\drivers\\etc\\hosts on Windows) that looks like this::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:348
#: ../../zopebook/VirtualHosting.rst:417
msgid "This causes your local machine to contact itself when a hostname of 'wwww.example.com' is encountered.  For the sake of this example, we're going to want to contact Zope via the hostname 'www.example.com' through a browser (also on your local host) and this makes it possible."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:354
msgid "Then visit the VHM in the root folder and click on its *Mappings* tab.  On a line by itself enter the following::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:359
msgid "This will cause the 'vhm_test' folder to be published when we visit 'http://www.example.com:8080'.  Visit 'http://www.example.com:8080'.  You will see::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:367
msgid "In the \"real world\" this means that you are \"publishing\" the 'vhm_test' folder as http://'www.example.com:8080'."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:370
msgid "Note that it is not possible to rewrite the port part (by default, '8080') of the URL this way. To change the port Zope is listening on, you will have to configure Zope's start parameter or use Apache rewriting."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:376
msgid "Apache Rewrite Rules"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:378
msgid "If you use Apache in front of Zope, instead of using the *Mappings* tab, you should use Apache's rewrite rule functionality to rewrite URLs in to Zope.  The way this works is straightforward: Apache listens on its \"normal\" port, typically port 80.  At the same time, Zope's web server (on the same host or on another host) listens on a different port (typically 8080).  Apache accepts requests on its listening port.  A virtual host declaration in Apache's configuration tells Apache to apply the contained directives to the specified virtual host."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:389
msgid "Using Apache's rewrite rule functionality requires that the 'mod_rewrite' and 'mod_proxy' Apache modules be enabled. This can for instance be done by configuring Apache with the '--enable-modules=\"rewrite proxy\"' flag during compile time or by loading the corresponding shared modules."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:395
msgid "If you are using the new Apache 2 series, you will also have to include the 'mod_proxy_http' module. See the \"Apache mod_rewrite documentation\", https://httpd.apache.org/docs/current/mod/mod_rewrite.html for details."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:401
msgid "You can check whether you have the required modules installed in Apache by examinint 'LoadModule' section of httpd.conf"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:404
msgid "After you've got Apache configured with mod_rewrite and mod_proxy (and, depending on your Apache version, mod_proxy_http), you can start configuring Apache's config file and Zope for the following example. Assuming you've added a Virtual Host Monster object in your root folder on a Zope running on 'localhost' on port 8080, create an alias in your local system's 'hosts' file (in /etc/hosts on UNIX and in c:\\WINNT\\system32\\drivers\\etc\\hosts on Windows) that looks like this::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:423
msgid "Note:  On MacOS X Server, the 'Server Admin.app' program simplifies adding virtual host definitions to your Apache. This application can make and maintain virtual host , access log, etc."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:428
msgid "Now, assuming you've got Apache running on port 80 and Zope running on port 8080 on your local machine, and assuming that you want to serve the folder named 'vhm_test' in Zope as 'www.example.com' and, add the following to your Apache's 'httpd.conf' file and restart your Apache process::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:441
msgid "If you want to proxy SSL to Zope, you need a similar directive for port 443::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:452
msgid "Note: the long lines in the RewriteRule directive above *must* remain on a single line, in order for Apache's configuration parser to accept it."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:457
msgid "When you visit 'http://www.example.com' in your browser, you will see::"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:464
msgid "This page is being served by Apache, but the results are coming from Zope.  Requests come in to Apache with \"normal\" URLs (e.g. 'http://www.example.com').  The VirtualHost stanza in Apache's httpd.conf causes the request URL to be rewritten (e.g. to 'http://127.0.0.1:8080/VirtualHostBase/http/www.example.com:80/vhm_test/VirtualHostRoot/'). Apache then calls the rewritten URL, and returns the result."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:472
msgid "See the \"Apache Documentation\", https://httpd.apache.org/docs/current/mod/mod_rewrite.html for more information on the subject of rewrite rules."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:477
msgid "Virtual Hosting Considerations for Content classes"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:479
msgid "Be sure that content objects catalog themselves using as their unique ID a \"site-relative\" path, rather than their full physical path;  otherwise, the object will be findable when using the site without virtual hosting, but not with, or vice versa."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:485
msgid "\"Inside-Out\" Virtual Hosting"
msgstr ""

#: ../../zopebook/VirtualHosting.rst:487
msgid "Another use for virtual hosting is to make Zope appear to be part of a site controlled by another server. For example, Zope might only serve the contents of 'http://www.mycause.org/dynamic_stuff', while Apache or another webserver serves files via 'http://www.mycause.org/'. To accomplish this, you want to add \"dynamic_stuff\" to the start of all Zope-generated URLs."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:495
msgid "If you insert VirtualHostRoot, followed by one or more path elements that start with '_vh_', then these elements will be ignored during traversal and then added (without the '_vh_') to the start of generated URLs. For instance, a request for \"/a/VirtualHostRoot/_vh_z/\" will traverse \"a\" and then generate URLs that start with /z."
msgstr ""

#: ../../zopebook/VirtualHosting.rst:502
msgid "In our example, you would have the main server send requests for http://www.mycause.org/dynamic_stuff/anything to Zope, rewritten as /VirtualHostRoot/_vh_dynamic_stuff/anything."
msgstr ""
